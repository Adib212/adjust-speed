<input type="file" id="fileinput" />
<script>
  function readSingleFile(evt) {
    var f = evt.target.files[0]; 
    if (f) {
      var r = new FileReader();
      r.onload = function(e) { 
          var contents = e.target.result;
          document.write("File Uploaded! try10 <br />" + "name: " + f.name + "<br />" );
          for (var i=0; i<6; i++){
            output.push("<tr><td>" + lines[i].split(",").join("</td><td>") + "</td></tr>");
          }
            for (var i=1; i<6; i++) {
              var data = lines[i].split(',');
               if (data.length == headers.length) {
                   var tarr = [];
                   for (var j=0; j<headers.length; j++) {
                   tarr.push(headers[j]+":"+data[j]);
            }
            lines.push(tarr);
        }
          output = "<table>" + output.join("") + "</table>";
          document.write(output);
          
     }
      r.readAsText(f);
      document.write(output);
    } else { 
      alert("Failed to load file");
    }
  }
  document.getElementById('fileinput').addEventListener('change', readSingleFile);
</script>
